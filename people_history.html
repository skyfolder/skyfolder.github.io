<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>대기 역학의 거인들: 흐름을 읽는 자들</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #fafaf9; /* Stone-50 */
            color: #44403c; /* Stone-700 */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f5f5f4; 
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e; 
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }

        /* Card Flip Animation */
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        .group:hover .group-hover\:rotate-y-180 {
            transform: rotateY(180deg);
        }
        
        /* Fade in animation for quiz */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 antialiased selection:bg-amber-200 selection:text-amber-900">

    <nav class="sticky top-0 z-50 bg-stone-50/90 backdrop-blur-md border-b border-stone-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center gap-3">
                    <i class="fa-solid fa-wind text-amber-600 text-2xl"></i>
                    <span class="font-bold text-xl tracking-tight text-stone-700">Atmospheric Giants</span>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <button onclick="scrollToSection('dashboard')" class="text-stone-600 hover:text-amber-600 transition font-medium">대시보드</button>
                    <button onclick="scrollToSection('timeline')" class="text-stone-600 hover:text-amber-600 transition font-medium">인물 탐구</button>
                    <a href="lab/labs.html" class="text-stone-600 hover:text-amber-600 transition font-medium decoration-0">
                        시뮬레이션 랩
                    </a>
                    <button onclick="scrollToSection('quiz')" class="px-4 py-2 rounded-full bg-stone-800 text-stone-50 hover:bg-stone-700 transition font-medium text-sm">나의 유형 찾기</button>
                </div>
                <div class="flex md:hidden items-center">
                    <button class="text-stone-600 hover:text-amber-600"><i class="fa-solid fa-bars text-xl"></i></button>
                </div>
            </div>
        </div>
    </nav>

    <header class="relative bg-white overflow-hidden">
        <div class="max-w-7xl mx-auto">
            <div class="relative z-10 pb-8 bg-white sm:pb-16 md:pb-20 lg:max-w-2xl lg:w-full lg:pb-28 xl:pb-32">
                <svg class="hidden lg:block absolute right-0 inset-y-0 h-full w-48 text-white transform translate-x-1/2" fill="currentColor" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true">
                    <polygon points="50,0 100,0 50,100 0,100" />
                </svg>
                <main class="mt-10 mx-auto max-w-7xl px-4 sm:mt-12 sm:px-6 md:mt-16 lg:mt-20 lg:px-8 xl:mt-28">
                    <div class="sm:text-center lg:text-left">
                        <h1 class="text-4xl tracking-tight font-extrabold text-stone-900 sm:text-5xl md:text-6xl">
                            <span class="block xl:inline">보이지 않는 바람을</span>
                            <span class="block text-amber-600 xl:inline">수식으로 길들이다</span>
                        </h1>
                        <p class="mt-3 text-base text-stone-500 sm:mt-5 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-5 md:text-xl lg:mx-0">
                            기상 대기 역학의 역사는 천재들의 실수와 집념, 그리고 통찰의 연속입니다.
                            대기 대순환부터 혼돈 이론까지, 우리가 매일 마주하는 날씨 뒤에 숨겨진 거인들의 이야기를 만나보세요.
                        </p>
                        <div class="mt-5 sm:mt-8 sm:flex sm:justify-center lg:justify-start">
                            <div class="rounded-md shadow">
                                <button onclick="scrollToSection('timeline')" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-amber-600 hover:bg-amber-700 md:py-4 md:text-lg transition-all shadow-lg hover:shadow-xl">
                                    역사 탐험 시작하기
                                </button>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
        <div class="lg:absolute lg:inset-y-0 lg:right-0 lg:w-1/2 bg-stone-100 flex items-center justify-center overflow-hidden">
            <div class="relative w-full h-full opacity-30">
                <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-amber-200 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
                <div class="absolute top-1/3 right-1/4 w-96 h-96 bg-sky-200 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
                <div class="absolute -bottom-32 left-1/3 w-96 h-96 bg-stone-300 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-4000"></div>
            </div>
            <div class="absolute z-20 text-center">
                <i class="fa-solid fa-cloud-sun-rain text-9xl text-stone-300"></i>
            </div>
        </div>
    </header>

    <section id="dashboard" class="py-16 bg-white border-y border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-base text-amber-600 font-semibold tracking-wide uppercase">통계로 보는 역사</h2>
                <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-stone-900 sm:text-4xl">
                    대기과학의 시대별 흐름
                </p>
                <p class="mt-4 max-w-2xl text-xl text-stone-500 mx-auto">
                    직관과 관측의 시대에서 컴퓨터와 위성의 시대로. 연구자들의 기여 분야 분포를 확인해보세요.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div class="bg-stone-50 p-6 rounded-2xl border border-stone-100 shadow-sm">
                    <h3 class="text-lg font-bold text-stone-700 mb-4 text-center"><i class="fa-regular fa-clock mr-2"></i>시대별 주요 인물 분포</h3>
                    <div class="chart-container">
                        <canvas id="eraChart"></canvas>
                    </div>
                </div>

                <div class="space-y-6">
                    <div class="flex items-start">
                        <div class="flex-shrink-0">
                            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-amber-500 text-white">
                                <i class="fa-solid fa-scale-balanced text-xl"></i>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h4 class="text-lg leading-6 font-medium text-stone-900">고전 역학의 토대</h4>
                            <p class="mt-2 text-base text-stone-500">
                                17~19세기, 뉴턴 역학을 대기에 적용하려 했던 시기입니다. 전문 기상학자보다는 물리, 수학, 천문학자들이 주도했습니다 (예: 해들리, 코리올리).
                            </p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0">
                            <div class="flex items-center justify-center h-12 w-12 rounded-md bg-sky-500 text-white">
                                <i class="fa-solid fa-computer text-xl"></i>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h4 class="text-lg leading-6 font-medium text-stone-900">수치 예보와 현대 기상학</h4>
                            <p class="mt-2 text-base text-stone-500">
                                20세기, 컴퓨터의 등장과 함께 '계산 가능한 날씨'의 시대가 열렸습니다. 비야크네스의 원시 방정식 제안부터 차니의 ENIAC 예보 성공까지 급격한 발전이 이루어졌습니다.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="timeline" class="py-16 bg-stone-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row md:items-end justify-between mb-10 gap-4">
                <div>
                    <h2 class="text-3xl font-extrabold text-stone-900">인물 탐구 아카이브</h2>
                    <p class="mt-2 text-stone-600">카드를 클릭하거나 마우스를 올려 그들의 숨겨진 에피소드를 확인하세요.</p>
                </div>
                <div class="flex flex-wrap gap-2" id="filterContainer">
                    <button class="filter-btn active px-4 py-2 rounded-full bg-stone-200 text-stone-700 text-sm font-semibold hover:bg-stone-300 transition" data-filter="all">전체 보기</button>
                    <button class="filter-btn px-4 py-2 rounded-full bg-stone-200 text-stone-700 text-sm font-semibold hover:bg-amber-200 transition" data-filter="pioneer">고전/개척자</button>
                    <button class="filter-btn px-4 py-2 rounded-full bg-stone-200 text-stone-700 text-sm font-semibold hover:bg-sky-200 transition" data-filter="modern">근대/수치예보</button>
                    <button class="filter-btn px-4 py-2 rounded-full bg-stone-200 text-stone-700 text-sm font-semibold hover:bg-emerald-200 transition" data-filter="climate">기후/혼돈</button>
                    <button class="filter-btn px-4 py-2 rounded-full bg-stone-200 text-stone-700 text-sm font-semibold hover:bg-rose-200 transition" data-filter="scale">중규모/기타</button>
                </div>
            </div>

            <div id="cardGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                </div>
        </div>
    </section>

    <section id="quiz" class="py-16 bg-amber-50 border-t border-amber-100">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden">
                <div class="p-8 md:p-12 text-center">
                    <h2 class="text-3xl font-bold text-stone-900 mb-4">나는 어떤 기상학자 타입일까?</h2>
                    <p class="text-stone-600 mb-8">간단한 질문을 통해 당신의 연구 스타일과 가장 비슷한 전설적인 기상학자를 찾아드립니다.</p>
                    
                    <div id="quizContainer" class="max-w-lg mx-auto">
                        <div id="quizStart">
                            <div class="bg-amber-100 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-6">
                                <i class="fa-solid fa-flask text-5xl text-amber-600"></i>
                            </div>
                            <button onclick="startQuiz()" class="px-8 py-3 bg-amber-600 text-white font-bold rounded-full hover:bg-amber-700 transition transform hover:scale-105 shadow-md">
                                테스트 시작하기
                            </button>
                        </div>

                        <div id="quizQuestion" class="hidden text-left">
                            <div class="mb-6">
                                <span class="text-xs font-bold text-amber-600 tracking-widest uppercase">Question <span id="qCurrent">1</span>/3</span>
                                <h3 id="qText" class="text-xl font-bold text-stone-800 mt-2 h-16">질문 내용이 여기에 들어갑니다.</h3>
                            </div>
                            <div class="space-y-3">
                                <button onclick="answerQuiz(0)" id="btnA" class="w-full text-left p-4 rounded-xl border-2 border-stone-100 hover:border-amber-400 hover:bg-amber-50 transition duration-200 font-medium text-stone-700">옵션 A</button>
                                <button onclick="answerQuiz(1)" id="btnB" class="w-full text-left p-4 rounded-xl border-2 border-stone-100 hover:border-amber-400 hover:bg-amber-50 transition duration-200 font-medium text-stone-700">옵션 B</button>
                            </div>
                        </div>

                        <div id="quizResult" class="hidden">
                            <div class="text-center animate-fade-in-up">
                                <span class="text-sm font-bold text-stone-400 uppercase tracking-wide">당신의 타입은</span>
                                <h3 id="rName" class="text-4xl font-extrabold text-amber-600 mt-2 mb-4">결과 이름</h3>
                                <p id="rDesc" class="text-stone-600 text-lg mb-6 bg-stone-50 p-6 rounded-xl border border-stone-100">
                                    결과 설명
                                </p>
                                <button onclick="resetQuiz()" class="text-stone-500 hover:text-stone-800 font-medium underline">
                                    다시 하기
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-stone-900 text-stone-400 py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <span class="text-white font-bold text-lg"><i class="fa-solid fa-wind mr-2"></i>Atmospheric Giants</span>
                <p class="mt-4 text-sm">대학교 기상 대기 역학 수업 보조 자료입니다. 역사 속 인물들의 에피소드를 통해 과학적 통찰을 배웁니다.</p>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">주요 카테고리</h4>
                <ul class="space-y-2 text-sm">
                    <li>고전 역학 (Hadley, Coriolis)</li>
                    <li>베르겐 학파 (Bjerknes)</li>
                    <li>수치 예보 (Richardson, Charney)</li>
                    <li>혼돈 이론 (Lorenz)</li>
                </ul>
            </div>
            <div>
                <h4 class="text-white font-bold mb-4">Resources</h4>
                <p class="text-sm">Created with HTML5, Tailwind CSS, Chart.js.</p>
                <p class="text-sm mt-2">No external images or SVG files were used in the creation of this page.</p>
            </div>
        </div>
    </footer>

    <script>
        // --- Data Source ---
        const scientists = [
            { id: 1, name: "조지 해들리", engName: "George Hadley", year: "1685–1768", type: "pioneer", icon: "fa-sailboat", color: "amber", keywords: ["해들리 순환", "무역풍", "변호사"], desc: "적도 상승 공기가 극지방으로 이동하며 편향되는 원리 설명.", anecdote: "<b>'아마추어의 승리'</b><br>그는 전문 과학자가 아닌 변호사(Lawyer)였습니다. 취미로 연구하던 아마추어가 당대 최고의 천문학자들도 풀지 못한 무역풍의 비밀을 밝혀냈습니다." },
            { id: 2, name: "가스파르 코리올리", engName: "G.-G. de Coriolis", year: "1792–1843", type: "pioneer", icon: "fa-arrows-spin", color: "amber", keywords: ["전향력", "관성력", "기계공학"], desc: "회전 좌표계에서의 관성력(전향력) 수학적 유도.", anecdote: "<b>'당구 치다가 발견?'</b><br>사실 그는 기계공학자였습니다. 대기가 아니라 '회전하는 물체'의 효율과 당구 공의 스핀을 연구하다가 발견한 힘이 기상학의 핵심이 되었습니다." },
            { id: 3, name: "빌헬름 비야크네스", engName: "Vilhelm Bjerknes", year: "1862–1951", type: "modern", icon: "fa-book-atlas", color: "sky", keywords: ["원시 방정식", "베르겐 학파", "물리학"], desc: "기상학을 유체역학 문제로 정의. 수치 예보의 비전 제시.", anecdote: "<b>'아들아, 기상학 하자'</b><br>정통 물리학자였던 그는 기상학이 블루오션임을 직감하고, 아들 야곱을 끈질기게 설득해 함께 기상학의 역사를 썼습니다." },
            { id: 4, name: "야곱 비야크네스", engName: "Jacob Bjerknes", year: "1897–1975", type: "modern", icon: "fa-cloud-showers-heavy", color: "sky", keywords: ["전선 이론", "저기압 모델", "군사 용어"], desc: "한랭/온난 전선 개념 도입 및 저기압 발달 모델 개발.", anecdote: "<b>'전쟁터에서 온 용어'</b><br>'전선(Front)'이라는 용어는 1차 대전 당시의 군사 작전 지도에서 영감을 받아 만들었습니다. 찬 공기와 따뜻한 공기의 치열한 전투 지역 같았기 때문이죠." },
            { id: 5, name: "루이스 리처드슨", engName: "Lewis F. Richardson", year: "1881–1953", type: "modern", icon: "fa-calculator", color: "sky", keywords: ["수치 예보", "예보 공장", "실패"], desc: "최초의 수치 예보 시도 (손으로 계산).", anecdote: "<b>'6만 명의 인간 계산기'</b><br>그는 64,000명이 모인 '예보 공장'을 상상했습니다. 혼자서 6주 동안 계산해 6시간 뒤의 날씨를 예측했지만, 터무니없는 오차로 실패했습니다. 하지만 이것이 현대 기상학의 밑거름이 되었습니다." },
            { id: 6, name: "칼 구스타프 로스비", engName: "Carl-Gustaf Rossby", year: "1898–1957", type: "modern", icon: "fa-wave-square", color: "sky", keywords: ["로스비 파", "제트기류", "잠재와도"], desc: "대규모 대기 파동(로스비 파)과 제트기류 설명.", anecdote: "<b>'천재의 건망증'</b><br>강의 중 영어를 쓰다 독일어로, 결국 스웨덴어로 끝마치고도 몰랐다는 일화가 있습니다. 여권을 너무 자주 잃어버려 동료들이 그가 미국 시민권을 땄을 때 안도했다고 합니다." },
            { id: 7, name: "쥴 차니", engName: "Jule Charney", year: "1917–1981", type: "modern", icon: "fa-microchip", color: "sky", keywords: ["준지형 이론", "ENIAC", "컴퓨터 예보"], desc: "리처드슨의 실패 극복. 최초의 컴퓨터 수치 예보 성공.", anecdote: "<b>'24시간 걸린 24시간 예보'</b><br>최초의 컴퓨터로 24시간 뒤 날씨를 계산하는 데 꼬박 24시간이 걸렸습니다. 실용성은 없었지만, 최초로 '맞는' 예측이었습니다." },
            { id: 8, name: "에드워드 로렌츠", engName: "Edward Lorenz", year: "1917–2008", type: "climate", icon: "fa-bugs", color: "emerald", keywords: ["카오스 이론", "나비 효과", "반올림"], desc: "대기 운동의 비선형성과 예측 한계(혼돈) 증명.", anecdote: "<b>'커피 한 잔이 바꾼 과학사'</b><br>입력 데이터의 소수점 아래를 반올림하고 커피를 마시고 왔더니 그래프가 완전히 달라져 있었습니다. 이 '귀찮음'이 나비 효과를 발견하게 했습니다." },
            { id: 9, name: "윌리엄 페렐", engName: "William Ferrel", year: "1817–1891", type: "pioneer", icon: "fa-school", color: "amber", keywords: ["페렐 순환", "3세포 모델", "독학"], desc: "중위도 간접 순환(페렐 순환) 규명.", anecdote: "<b>'부끄러움 많은 선생님'</b><br>가난한 시골 학교 선생님으로, 뉴턴의 책을 헌책방에서 사서 독학했습니다. 주류 학계와 동떨어져 있었지만 그의 직관은 누구보다 정확했습니다." },
            { id: 10, name: "길버트 워커", engName: "Gilbert Walker", year: "1868–1958", type: "climate", icon: "fa-globe-asia", color: "emerald", keywords: ["워커 순환", "엘니뇨", "원격 상관"], desc: "남방 진동(SO) 및 대기 연결 고리 발견.", anecdote: "<b>'괴짜의 텔레파시?'</b><br>지구 반대편 날씨가 연결되어 있다고 주장해 비웃음을 샀지만, 그는 데이터 분석을 통해 사실임을 증명했습니다. 빅데이터 분석의 시초입니다." },
            { id: 11, name: "테드 후지타", engName: "T. Theodore Fujita", year: "1920–1998", type: "scale", icon: "fa-wind", color: "rose", keywords: ["후지타 등급", "다운버스트", "항공안전"], desc: "토네이도 등급 체계화 및 마이크로버스트 발견.", anecdote: "<b>'셜록 홈즈 기상학자'</b><br>원폭 피해 조사 경험을 살려 토네이도가 휩쓸고 간 나무의 패턴을 분석, 비행기 추락의 원인이 조종사 실수가 아닌 급격한 하강기류임을 밝혀냈습니다." },
            { id: 12, name: "조앤 심슨", engName: "Joanne Simpson", year: "1923–2010", type: "scale", icon: "fa-cloud", color: "rose", keywords: ["핫 타워", "적란운", "여성 과학자"], desc: "거대 적란운이 대기 순환의 엔진임을 증명.", anecdote: "<b>'구름은 장식이 아니야'</b><br>지도 교수가 '구름은 예쁜 장식일 뿐'이라며 연구를 말렸지만, 그녀는 편견을 깨고 구름이 대기 대순환의 핵심 에너지원임을 증명해냈습니다." },
            { id: 13, name: "슈쿠로 마나베", engName: "Syukuro Manabe", year: "1931–", type: "climate", icon: "fa-temperature-high", color: "emerald", keywords: ["복사-대류 평형", "온난화 모델", "노벨상"], desc: "최초의 기후 모델(GCM)로 CO2와 온난화 관계 규명.", anecdote: "<b>'단순함의 미학'</b><br>'왜 그렇게 단순한 모델을 쓰냐'는 질문에 '단순한 것도 이해 못 하는데 복잡한 걸 어떻게 이해하냐'고 답했습니다. 본질을 꿰뚫는 통찰입니다." },
            { id: 14, name: "제임스 홀튼", engName: "James Holton", year: "1938–2004", type: "scale", icon: "fa-graduation-cap", color: "rose", keywords: ["교과서 저자", "교육자", "QBO"], desc: "성층권 진동 연구 및 대기역학 표준 교과서 집필.", anecdote: "<b>'핑크 책의 저자'</b><br>기존 책들이 너무 어려워 학생들이 도망갈까 봐 직접 교과서를 썼습니다. 전 세계 대기과학도의 스승이자 아이돌입니다." },
            { id: 15, name: "아라카와 아키오", engName: "Akio Arakawa", year: "1927–2021", type: "modern", icon: "fa-border-all", color: "sky", keywords: ["아라카와 격자", "적운 파라미터", "모델 안정"], desc: "수치 모델의 계산 폭발을 막는 격자 설계.", anecdote: "<b>'컴퓨터를 진정시킨 남자'</b><br>계산 도중 에너지가 무한대로 발산하는 모델의 오류를 잡아냈습니다. 칠판 가득 식을 쓰고 '이 항이 범인이다!'라며 지우는 퍼포먼스를 즐겼습니다." }
        ];

        // --- 1. Dashboard Chart Logic ---
        function initDashboard() {
            const ctx = document.getElementById('eraChart').getContext('2d');
            
            // Count distribution
            const counts = { 'pioneer': 0, 'modern': 0, 'climate': 0, 'scale': 0 };
            scientists.forEach(s => { if(counts[s.type] !== undefined) counts[s.type]++ });

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['고전/개척자', '근대/수치예보', '기후/혼돈', '중규모/교육'],
                    datasets: [{
                        label: '연구자 수',
                        data: [counts.pioneer, counts.modern, counts.climate, counts.scale],
                        backgroundColor: [
                            'rgba(217, 119, 6, 0.7)', // Amber
                            'rgba(2, 132, 199, 0.7)', // Sky
                            'rgba(16, 185, 129, 0.7)', // Emerald
                            'rgba(225, 29, 72, 0.7)'   // Rose
                        ],
                        borderColor: [
                            'rgb(217, 119, 6)',
                            'rgb(2, 132, 199)',
                            'rgb(16, 185, 129)',
                            'rgb(225, 29, 72)'
                        ],
                        borderWidth: 1,
                        borderRadius: 8,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return ` ${context.raw} 명의 위대한 연구자`;
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: '#f5f5f4' },
                            ticks: { stepSize: 1 }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }

        // --- 2. Card Rendering Logic ---
        const cardGrid = document.getElementById('cardGrid');
        const filters = document.querySelectorAll('.filter-btn');

        function renderCards(filterType) {
            cardGrid.innerHTML = ''; // Clear
            
            const filteredData = filterType === 'all' 
                ? scientists 
                : scientists.filter(s => s.type === filterType);

            filteredData.forEach(person => {
                const colorClass = {
                    'amber': 'bg-amber-100 text-amber-800 border-amber-200',
                    'sky': 'bg-sky-100 text-sky-800 border-sky-200',
                    'emerald': 'bg-emerald-100 text-emerald-800 border-emerald-200',
                    'rose': 'bg-rose-100 text-rose-800 border-rose-200'
                }[person.color];

                const iconColor = {
                    'amber': 'text-amber-600', 'sky': 'text-sky-600', 'emerald': 'text-emerald-600', 'rose': 'text-rose-600'
                }[person.color];

                const cardHTML = `
                <div class="group h-80 w-full perspective-1000 cursor-pointer">
                    <div class="relative w-full h-full text-center transition-all duration-700 transform-style-3d group-hover:rotate-y-180 shadow-lg rounded-2xl">
                        <div class="absolute w-full h-full backface-hidden bg-white rounded-2xl p-6 border border-stone-100 flex flex-col items-center justify-between z-10">
                            <div class="mt-4">
                                <div class="w-20 h-20 rounded-full bg-stone-50 border-2 border-stone-100 flex items-center justify-center mb-4 mx-auto">
                                    <i class="fa-solid ${person.icon} ${iconColor} text-3xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-stone-800">${person.name}</h3>
                                <p class="text-xs text-stone-400 font-mono mt-1">${person.engName}</p>
                                <p class="text-sm text-stone-500 mt-1">${person.year}</p>
                            </div>
                            <div class="flex flex-wrap justify-center gap-2 mt-4">
                                ${person.keywords.slice(0,2).map(k => `<span class="px-2 py-1 text-xs rounded-md ${colorClass} font-semibold">${k}</span>`).join('')}
                            </div>
                            <div class="text-xs text-stone-400 mt-2">
                                <i class="fa-solid fa-arrow-rotate-right mr-1"></i> 에피소드 보기
                            </div>
                        </div>

                        <div class="absolute w-full h-full backface-hidden rotate-y-180 bg-stone-800 text-stone-100 rounded-2xl p-6 flex flex-col justify-center overflow-y-auto custom-scrollbar shadow-xl border border-stone-700">
                            <div class="text-left">
                                <span class="text-xs font-bold text-amber-500 uppercase tracking-widest">Contribution</span>
                                <p class="text-sm mb-4 border-b border-stone-700 pb-2">${person.desc}</p>
                                
                                <span class="text-xs font-bold text-sky-400 uppercase tracking-widest">Episode</span>
                                <div class="text-sm bg-stone-700/50 p-3 rounded-lg mt-1 leading-relaxed">
                                    ${person.anecdote}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                `;
                cardGrid.insertAdjacentHTML('beforeend', cardHTML);
            });
        }

        // Filter Event Listeners
        filters.forEach(btn => {
            btn.addEventListener('click', () => {
                // Update active state
                filters.forEach(b => {
                    b.classList.remove('active', 'bg-stone-800', 'text-white');
                    b.classList.add('bg-stone-200', 'text-stone-700');
                });
                btn.classList.remove('bg-stone-200', 'text-stone-700');
                btn.classList.add('active', 'bg-stone-800', 'text-white');

                const filter = btn.getAttribute('data-filter');
                renderCards(filter);
            });
        });

        // --- 3. Scroll Helper ---
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- 4. Quiz Logic ---
        let currentQIndex = 0;
        let score = 0; // Simple logic: 0-1: Pioneer, 2-3: Modern/Climate
        
        const questions = [
            { t: "연구를 시작할 때 나는?", a: "기존의 이론과 책을 먼저 깊게 파고든다.", b: "일단 데이터를 모으거나 계산부터 해본다." },
            { t: "문제가 안 풀릴 때 나는?", a: "근본적인 물리 법칙으로 돌아가 생각한다.", b: "컴퓨터 시뮬레이션을 돌리거나 근사값을 찾는다." },
            { t: "선호하는 도구는?", a: "연필과 종이, 그리고 직관.", b: "고성능 컴퓨터와 방대한 데이터." }
        ];

        function startQuiz() {
            document.getElementById('quizStart').classList.add('hidden');
            document.getElementById('quizQuestion').classList.remove('hidden');
            currentQIndex = 0;
            score = 0;
            showQuestion();
        }

        function showQuestion() {
            const q = questions[currentQIndex];
            document.getElementById('qCurrent').innerText = currentQIndex + 1;
            document.getElementById('qText').innerText = q.t;
            document.getElementById('btnA').innerText = q.a;
            document.getElementById('btnB').innerText = q.b;
        }

        function answerQuiz(val) {
            score += val;
            currentQIndex++;
            if(currentQIndex < questions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            document.getElementById('quizQuestion').classList.add('hidden');
            document.getElementById('quizResult').classList.remove('hidden');
            
            let name, desc;
            if (score <= 1) {
                name = "조지 해들리 (직관적 개척자)";
                desc = "당신은 본질을 꿰뚫는 통찰력을 가졌군요! 복잡한 도구 없이도 현상의 핵심 원리를 파악하는 능력이 탁월합니다.";
            } else {
                name = "에드워드 로렌츠 (현대적 분석가)";
                desc = "당신은 데이터와 계산의 힘을 믿는군요! 작은 단서도 놓치지 않고 새로운 패턴을 발견해내는 능력이 있습니다.";
            }
            
            document.getElementById('rName').innerText = name;
            document.getElementById('rDesc').innerText = desc;
        }

        function resetQuiz() {
            document.getElementById('quizResult').classList.add('hidden');
            document.getElementById('quizStart').classList.remove('hidden');
        }

        // --- Initialization ---
        window.onload = function() {
            initDashboard();
            renderCards('all');
        };
    </script>
</body>
</html>
